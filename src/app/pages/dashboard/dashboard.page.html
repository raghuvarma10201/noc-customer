<!-- <ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>dashboard</ion-title>
  </ion-toolbar>
</ion-header> -->

<ion-content [fullscreen]="true">
  <div class="dashboardBg"></div>
  
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content
      pullingIcon="arrow-down"
      refreshingSpinner="circles"
      pullingText="Pull to refresh"
      refreshingText="Refreshing..."
    ></ion-refresher-content>
  </ion-refresher>

  <ion-item lines="none" color="none" class="dashboardHeader ion-padding-horizontal no-ion-color-item ion-padding-top">
    <ion-item class="userNameDash" lines="none" color="none">
      <ion-thumbnail>
        <ion-img src="assets/images/user-icon.svg" routerLink="/account"></ion-img> 
      </ion-thumbnail>
      <ion-text>
        <h5>{{ username || 'Guest' }}</h5>
      </ion-text>
    </ion-item>

    <div class="ion-float-end headerBts" slot="end">
      <!-- <ion-button routerLink="/Notification" class="notificationsIcon " shape="round">
        <ion-img src="assets/images/notifications-icon.svg"></ion-img>
        <ion-icon class="alertNotifi " icon={ellipse}></ion-icon>
      </ion-button> -->
      <!-- <ion-button shape="round" routerLink="/account">
        <ion-icon name="person-circle-outline"></ion-icon>
      </ion-button> -->
    </div>
  </ion-item>

  <ion-text class="headingdash text-center">
    <h1>{{ 'WELCOME' | translate }}</h1>
    <p>Here's your dashboard details.</p>
  </ion-text>

  <div class="ion-padding-horizontal cardDash">
    <ion-row>
      <ion-col size="6" *ngIf="dashboardCounts | async as counts">
        <ion-button class="cardColor1" (click)="navigateToNocList('dashboard')">
          <ion-text>
            <h2>{{ counts?.totalCases || 0 }}</h2>
            <h6>Total NOC's</h6>
          </ion-text>
        </ion-button>
      </ion-col>

      <ion-col size="6" *ngIf="dashboardCounts | async as counts">
        <ion-button class="cardColor2" (click)="navigateToNocList('UnderProcess')">
          <ion-text>
            <h2>{{ counts?.underProcess || 0 }}</h2>
            <h6>Under Process</h6>
          </ion-text>
        </ion-button>
      </ion-col>

      <ion-col size="6" *ngIf="dashboardCounts | async as counts">
        <ion-button class="cardColor3" (click)="navigateToNocList('Completed')">
          <ion-text>
            <h2>{{ counts?.completed || 0 }}</h2>
            <h6>Completed</h6>
          </ion-text>
        </ion-button>
      </ion-col>

      <ion-col size="6" *ngIf="dashboardCounts | async as counts">
        <ion-button class="cardColor4" (click)="navigateToNocList('CustomerActions')">
          <ion-text>
            <h2>{{ counts?.customerAction || 0 }}</h2>
            <h6>Customer Action</h6>
          </ion-text>
        </ion-button>
      </ion-col>
    </ion-row>
  </div>
</ion-content>
